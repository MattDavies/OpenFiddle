@using System.Web.Optimization
@model csfiddle.Controllers.ViewModels.CodeViewModel

<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <title>c#fiddle</title>
        @Styles.Render("~/sitecss")
        @Scripts.Render("~/sitescripts")
        <script type="text/javascript">
            function runCode() {
                $("#run").innerHTML = "Running...";
                $.post('/', { InputCode: csfiddle.editor.getValue() }, function (data) {
                    $('#result').html("<pre>" + data + "</pre>");
                })
                    .always(function () { $("#run").innerHTML = "Run";});
            }
        </script>
    </head>
    <body>
        <div class="ui-layout-north"><button onclick="window.location = '';">New</button><button id="run" onclick="runCode()">Run</button><button>Save</button></div>
        <div class="ui-layout-west">
            <textarea id="InputCode" name="InputCode">@Model.InputCode</textarea>
        </div>
        <div class="ui-layout-center">
            <div id="result"><pre>@Model.Result</pre></div>
        </div>
        <div class="ui-layout-south">A side project by <a href="http://twitter.com/mdaviesnet">@@mdaviesnet</a></div>
    </body>
</html>